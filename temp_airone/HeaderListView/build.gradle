apply plugin: 'com.android.library'
apply plugin: 'maven-publish'

dependencies {
    implementation 'androidx.appcompat:appcompat:1.0.0'
    implementation fileTree(dir: 'libs', include: ['*.jar', '*.aar'])
}

publishing {
    publications {
        HeaderListView(MavenPublication) {
            artifact './build/outputs/aar/' + project.name + '-' + project.version + '.aar'

            pom.withXml {
                Node deps = asNode().appendNode('dependencies')
                project.configurations.compile.dependencies.each() { obj ->
                    if (obj.group?.trim()) {
                        Node dep = new Node(deps, 'dependency')
                        dep.appendNode('groupId', obj.group)
                        dep.appendNode('artifactId', obj.name)
                        dep.appendNode('version', obj.version)
                        dep.appendNode('scope', 'compile')
                    }
                }
            }
        }
    }
}

group 'com.applidium'
version '1.0'
ext.androidVersionCode = 1

android {
    compileSdkVersion 28
    buildToolsVersion '28.0.3'

    defaultConfig {
        minSdkVersion 19
        targetSdkVersion 28
        versionCode androidVersionCode
        versionName version
    }

    buildTypes {
        release {

        }
    }
}
